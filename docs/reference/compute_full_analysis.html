<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute a suite of tables and plots from various fasstr functions — compute_full_analysis • fasstr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute a suite of tables and plots from various fasstr functions — compute_full_analysis"><meta property="og:description" content="Calculates tables and plots from a suite of statistics from fasstr functions. Calculates statistics from all 
   values, unless specified.The statistics are grouped into 7 analysis groups (see analyses argument) which are stored in 
   lists in the object. Due to the number of tables and plots to be made, this function may take several minutes to complete. If 
   ignore_missing = FALSE (default) and there is missing data, some tables and plots may be empty and produce warnings. 
   Use ignore_missing = TRUE to ignore the missing values or filter your data to complete years.
   Returns a list of tibbles and plots."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fasstr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fasstr.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/index.html">All Articles</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Tutorials</li>
    <li>
      <a href="../articles/fasstr_users_guide.html">General Usage</a>
    </li>
    <li>
      <a href="../articles/fasstr_trending_analysis.html">Computing Annual Trends</a>
    </li>
    <li>
      <a href="../articles/fasstr_frequency_analysis.html">Computing Volume Frequency Analyses</a>
    </li>
    <li>
      <a href="../articles/fasstr_full_analysis.html">Computing a Full Analysis</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Exploration</li>
    <li>
      <a href="../articles/articles/fasstr_dataRetrieval.html">Using USGS dataRetrieval data with fasstr</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Under the Hood</li>
    <li>
      <a href="../articles/fasstr_under_the_hood.html">Internal Workflows</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bcgov/fasstr/raw/main/fasstr_cheatsheet.pdf" class="external-link">
    <span class="fa fa-file-download"></span>
     
    Download Cheatsheet
  </a>
</li>
<li>
  <a href="https://github.com/bcgov/fasstr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute a suite of tables and plots from various fasstr functions</h1>
    <small class="dont-index">Source: <a href="https://github.com/bcgov/fasstr/blob/HEAD/R/compute_full_analysis.R" class="external-link"><code>R/compute_full_analysis.R</code></a></small>
    <div class="hidden name"><code>compute_full_analysis.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Calculates tables and plots from a suite of statistics from <code>fasstr</code> functions. Calculates statistics from all 
   values, unless specified.The statistics are grouped into 7 analysis groups (see <code>analyses</code> argument) which are stored in 
   lists in the object. Due to the number of tables and plots to be made, this function may take several minutes to complete. If 
   <code>ignore_missing = FALSE</code> (default) and there is missing data, some tables and plots may be empty and produce warnings. 
   Use <code>ignore_missing = TRUE</code> to ignore the missing values or filter your data to complete years.
   Returns a list of tibbles and plots.</p>
    </div>

    <div id="ref-usage">Usage,<div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">compute_full_analysis</span><span class="op">(</span>
  <span class="va">data</span>,
  dates <span class="op">=</span> <span class="va">Date</span>,
  values <span class="op">=</span> <span class="va">Value</span>,
  groups <span class="op">=</span> <span class="va">STATION_NUMBER</span>,
  <span class="va">station_number</span>,
  analyses <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">7</span>,
  <span class="va">basin_area</span>,
  water_year_start <span class="op">=</span> <span class="fl">1</span>,
  <span class="va">start_year</span>,
  <span class="va">end_year</span>,
  <span class="va">exclude_years</span>,
  months <span class="op">=</span> <span class="fl">1</span><span class="op">:</span><span class="fl">12</span>,
  ignore_missing <span class="op">=</span> <span class="cn">FALSE</span>,
  allowed_missing_annual <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">ignore_missing</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span>,
  allowed_missing_monthly <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">ignore_missing</span>, <span class="fl">100</span>, <span class="fl">0</span><span class="op">)</span>,
  zyp_method <span class="op">=</span> <span class="st">"zhang"</span>,
  <span class="va">zyp_alpha</span>
<span class="op">)</span></code></pre></div></div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>Data frame of daily data that contains columns of dates, flow values, and (optional) groups (e.g. station numbers).
Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>dates</dt>
<dd><p>Name of column in <code>data</code> that contains dates formatted YYYY-MM-DD. Only required if dates column name is not 
'Date' (default). Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>values</dt>
<dd><p>Name of column in <code>data</code> that contains numeric flow values, in units of cubic metres per second.
Only required if values column name is not 'Value' (default). Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>groups</dt>
<dd><p>Name of column in <code>data</code> that contains unique identifiers for different data sets, if applicable. Only required 
if groups column name is not 'STATION_NUMBER'. Function will automatically group by a column named 'STATION_NUMBER' if 
present. Remove the 'STATION_NUMBER' column beforehand to remove this grouping. Leave blank if using <code>station_number</code> 
argument.</p></dd>
<dt>station_number</dt>
<dd><p>Character string vector of seven digit Water Survey of Canada station numbers (e.g. <code>"08NM116"</code>) of
which to extract daily streamflow data from a HYDAT database. Requires <code>tidyhydat</code> package and a HYDAT database.
Leave blank if using <code>data</code> argument.</p></dd>
<dt>analyses</dt>
<dd><p>Numeric vector of analyses to run (default is all (<code>1:7</code>)):</p><ul><li><p>1: Screening</p></li>
<li><p>2: Long-term</p></li>
<li><p>3: Annual</p></li>
<li><p>4: Monthly</p></li>
<li><p>5: Daily</p></li>
<li><p>6: Annual Trends</p></li>
<li><p>7: Low-flow Frequencies</p></li>
</ul></dd>
<dt>basin_area</dt>
<dd><p>Upstream drainage basin area, in square kilometres, to apply to observations. Three options:</p>
<p>(1) Leave blank if <code>groups</code> is STATION_NUMBER with HYDAT station numbers to extract basin areas from HYDAT.</p>
<p>(2) A single numeric value to apply to all observations.</p>
<p>(3) List each basin area for each group/station in groups (can override HYDAT value if listed) as such <code>c("08NM116" = 795, 
"08NM242" = 10)</code>. If group is not listed the HYDAT area will be applied if it exists, otherwise it will be <code>NA</code>.</p></dd>
<dt>water_year_start</dt>
<dd><p>Numeric value indicating the month (<code>1</code> through <code>12</code>) of the start of water year for
analysis. Default <code>1</code>.</p></dd>
<dt>start_year</dt>
<dd><p>Numeric value of the first year to consider for analysis. Leave blank to use the first year of the source data.</p></dd>
<dt>end_year</dt>
<dd><p>Numeric value of the last year to consider for analysis. Leave blank to use the last year of the source data.</p></dd>
<dt>exclude_years</dt>
<dd><p>Numeric vector of years to exclude from analysis. Leave blank to include all years.</p></dd>
<dt>months</dt>
<dd><p>Numeric vector of months to include in analysis (e.g. <code>6:8</code> for Jun-Aug). Leave blank to summarize 
all months (default <code>1:12</code>). If not all months, seasonal total yield and volumetric flows will not be included.</p></dd>
<dt>ignore_missing</dt>
<dd><p>Logical value indicating whether dates with missing values should be included in the calculation. If
<code>TRUE</code> then a statistic will be calculated regardless of missing dates. If <code>FALSE</code> then only those statistics from
time periods with no missing dates will be returned. Default <code>FALSE</code>.</p></dd>
<dt>allowed_missing_annual</dt>
<dd><p>Numeric value between 0 and 100 indicating the <strong>percentage</strong> of missing dates allowed to be
included to calculate an annual statistic (0 to 100 percent). If <code>'ignore_missing = FALSE'</code> then it defaults to <code>0</code> 
(zero missing dates allowed), if <code>'ignore_missing = TRUE'</code> then it defaults to <code>100</code> (any missing dates allowed); 
consistent with <code>ignore_missing</code> usage. Supersedes <code>ignore_missing</code> when used. Only for annual means, percentiles,
minimums, and maximums.</p></dd>
<dt>allowed_missing_monthly</dt>
<dd><p>Numeric value between 0 and 100 indicating the <strong>percentage</strong> of missing dates allowed to be
included to calculate a monthly statistic (0 to 100 percent). If <code>'ignore_missing = FALSE'</code> then it defaults to <code>0</code> 
(zero missing dates allowed), if <code>'ignore_missing = TRUE'</code> then it defaults to <code>100</code> (any missing dates allowed); 
consistent with <code>ignore_missing</code> usage. Supersedes <code>ignore_missing</code> when used.Only for monthly means, percentiles,
minimums, and maximums.</p></dd>
<dt>zyp_method</dt>
<dd><p>Character string identifying the prewhitened trend method to use from <code>'zyp'</code>, either <code>'zhang'</code> or
<code>'yuepilon'</code>. <code>'zhang'</code> is recommended over <code>'yuepilon'</code> for hydrologic applications (see 
<code><a href="compute_annual_trends.html">compute_annual_trends()</a></code>; Bürger 2017; Zhang and Zwiers 2004). Only required if analysis group 6 is included. 
Default <code>'zhang'</code>.</p></dd>
<dt>zyp_alpha</dt>
<dd><p>Numeric value of the significance level (ex. <code>0.05</code>) of when to plot a trend line. Leave blank for no line.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A list of lists of tibble data frames and ggplot2 objects from various fasstr functions
   organized by the analysis groups as listed above.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><code><a href="plot_flow_data.html">plot_flow_data</a></code>,
         <code><a href="screen_flow_data.html">screen_flow_data</a></code>,
         <code><a href="plot_data_screening.html">plot_data_screening</a></code>,
         <code><a href="plot_missing_dates.html">plot_missing_dates</a></code>,
         <code><a href="calc_longterm_monthly_stats.html">calc_longterm_monthly_stats</a></code>,
         <code><a href="plot_longterm_monthly_stats.html">plot_longterm_monthly_stats</a></code>,
         <code><a href="calc_longterm_daily_stats.html">calc_longterm_daily_stats</a></code>,
         <code><a href="plot_longterm_daily_stats.html">plot_longterm_daily_stats</a></code>,
         <code><a href="plot_flow_duration.html">plot_flow_duration</a></code>,
         <code><a href="calc_annual_stats.html">calc_annual_stats</a></code>,
         <code><a href="plot_annual_stats.html">plot_annual_stats</a></code>,
         <code><a href="calc_annual_cumulative_stats.html">calc_annual_cumulative_stats</a></code>,
         <code><a href="plot_annual_cumulative_stats.html">plot_annual_cumulative_stats</a></code>,
         <code><a href="calc_annual_flow_timing.html">calc_annual_flow_timing</a></code>,
         <code><a href="plot_annual_flow_timing.html">plot_annual_flow_timing</a></code>,
         <code><a href="calc_annual_outside_normal.html">calc_annual_outside_normal</a></code>,
         <code><a href="plot_annual_outside_normal.html">plot_annual_outside_normal</a></code>,
         <code><a href="calc_annual_lowflows.html">calc_annual_lowflows</a></code>,
         <code><a href="plot_annual_lowflows.html">plot_annual_lowflows</a></code>,
         <code><a href="plot_annual_means.html">plot_annual_means</a></code>,
         <code><a href="calc_monthly_stats.html">calc_monthly_stats</a></code>,
         <code><a href="plot_monthly_stats.html">plot_monthly_stats</a></code>,
         <code><a href="calc_monthly_cumulative_stats.html">calc_monthly_cumulative_stats</a></code>,
         <code><a href="plot_monthly_cumulative_stats.html">plot_monthly_cumulative_stats</a></code>,
         <code><a href="calc_daily_stats.html">calc_daily_stats</a></code>,
         <code><a href="plot_daily_stats.html">plot_daily_stats</a></code>,
         <code><a href="calc_daily_cumulative_stats.html">calc_daily_cumulative_stats</a></code>,
         <code><a href="plot_daily_cumulative_stats.html">plot_daily_cumulative_stats</a></code>,
         <code><a href="compute_annual_trends.html">compute_annual_trends</a></code>,
         <code><a href="compute_annual_frequencies.html">compute_annual_frequencies</a></code>,
         <code><a href="write_flow_data.html">write_flow_data</a></code>,
         <code><a href="write_plots.html">write_plots</a></code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Working examples:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Compute a full analysis will all the analyses</span></span>
<span class="r-in"><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">compute_full_analysis</span><span class="op">(</span>station_number <span class="op">=</span> <span class="st">"08NM116"</span>,</span>
<span class="r-in">                                 start_year <span class="op">=</span> <span class="fl">1980</span>,</span>
<span class="r-in">                                 end_year <span class="op">=</span> <span class="fl">2010</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Compute a full analysis with only Annual (3) and Daily (5) analyses</span></span>
<span class="r-in"><span class="va">results</span> <span class="op">&lt;-</span> <span class="fu">compute_full_analysis</span><span class="op">(</span>station_number <span class="op">=</span> <span class="st">"08NM116"</span>,</span>
<span class="r-in">                                 start_year <span class="op">=</span> <span class="fl">1980</span>,</span>
<span class="r-in">                                 end_year <span class="op">=</span> <span class="fl">2010</span>,</span>
<span class="r-in">                                 analyses <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in">                     </span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jon Goetz, Carl James Schwarz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer></div>

  


  

  </body></html>

