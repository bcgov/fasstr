<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Write a streamflow dataset as a .xlsx, .xls, or .csv file — write_flow_data • fasstr</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Write a streamflow dataset as a .xlsx, .xls, or .csv file — write_flow_data"><meta property="og:description" content="Write a daily streamflow data set to a directory. Can fill missing dates or filter data by years or dates before 
   writing using given arguments. List data frame or HYDAT station number to write its entirety. Can write as .xls, .xlsx, or .csv 
   file types. Writing as Excel file type uses the writexl package."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">fasstr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.4.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
<li>
  <a href="../articles/fasstr.html">Get Started</a>
</li>
<li>
  <a href="../reference/index.html">Functions</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/index.html">All Articles</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Tutorials</li>
    <li>
      <a href="../articles/fasstr_users_guide.html">General Usage</a>
    </li>
    <li>
      <a href="../articles/fasstr_trending_analysis.html">Computing Annual Trends</a>
    </li>
    <li>
      <a href="../articles/fasstr_frequency_analysis.html">Computing Volume Frequency Analyses</a>
    </li>
    <li>
      <a href="../articles/fasstr_full_analysis.html">Computing a Full Analysis</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Exploration</li>
    <li>
      <a href="../articles/articles/fasstr_dataRetrieval.html">Using USGS dataRetrieval data with fasstr</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Under the Hood</li>
    <li>
      <a href="../articles/fasstr_under_the_hood.html">Internal Workflows</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">News</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/bcgov/fasstr/raw/master/fasstr_cheatsheet.pdf" class="external-link">
    <span class="fa fa-file-download"></span>
     
    Download Cheatsheet
  </a>
</li>
<li>
  <a href="https://github.com/bcgov/fasstr" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    GitHub
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Write a streamflow dataset as a .xlsx, .xls, or .csv file</h1>
    <small class="dont-index">Source: <a href="https://github.com/bcgov/fasstr/blob/HEAD/R/write_flow_data.R" class="external-link"><code>R/write_flow_data.R</code></a></small>
    <div class="hidden name"><code>write_flow_data.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Write a daily streamflow data set to a directory. Can fill missing dates or filter data by years or dates before 
   writing using given arguments. List data frame or HYDAT station number to write its entirety. Can write as .xls, .xlsx, or .csv 
   file types. Writing as Excel file type uses the <code>writexl</code> package.</p>
    </div>

    <div id="ref-usage">Usage,<div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">write_flow_data</span><span class="op">(</span>
  <span class="va">data</span>,
  dates <span class="op">=</span> <span class="va">Date</span>,
  values <span class="op">=</span> <span class="va">Value</span>,
  groups <span class="op">=</span> <span class="va">STATION_NUMBER</span>,
  <span class="va">station_number</span>,
  water_year_start <span class="op">=</span> <span class="fl">1</span>,
  <span class="va">start_year</span>,
  <span class="va">end_year</span>,
  <span class="va">start_date</span>,
  <span class="va">end_date</span>,
  <span class="va">file_name</span>,
  fill_missing <span class="op">=</span> <span class="cn">FALSE</span>,
  <span class="va">digits</span>
<span class="op">)</span></code></pre></div></div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>data</dt>
<dd><p>Data frame of daily data that contains columns of dates, flow values, and (optional) groups (e.g. station numbers).
Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>dates</dt>
<dd><p>Name of column in <code>data</code> that contains dates formatted YYYY-MM-DD. Only required if dates column name is not 
'Date' (default). Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>values</dt>
<dd><p>Name of column in <code>data</code> that contains numeric flow values, in units of cubic metres per second.
Only required if values column name is not 'Value' (default). Leave blank if using <code>station_number</code> argument.</p></dd>
<dt>groups</dt>
<dd><p>Name of column in <code>data</code> that contains unique identifiers for different data sets, if applicable. Only required 
if groups column name is not 'STATION_NUMBER'. Function will automatically group by a column named 'STATION_NUMBER' if 
present. Remove the 'STATION_NUMBER' column beforehand to remove this grouping. Leave blank if using <code>station_number</code> 
argument.</p></dd>
<dt>station_number</dt>
<dd><p>Character string vector of seven digit Water Survey of Canada station numbers (e.g. <code>"08NM116"</code>) of
which to extract daily streamflow data from a HYDAT database. Requires <code>tidyhydat</code> package and a HYDAT database.
Leave blank if using <code>data</code> argument.</p></dd>
<dt>water_year_start</dt>
<dd><p>Numeric value indicating the month (<code>1</code> through <code>12</code>) of the start of water year for
analysis. Default <code>1</code>.</p></dd>
<dt>start_year</dt>
<dd><p>Numeric value of the first year of data to write. Leave blank to use the first year of the source data.</p></dd>
<dt>end_year</dt>
<dd><p>Numeric value of the last year of data to write. Leave blank to use the last year of the source data.</p></dd>
<dt>start_date</dt>
<dd><p>Date (YYYY-MM-DD) of first date of data to write. Leave blank if all dates required.</p></dd>
<dt>end_date</dt>
<dd><p>Date (YYYY-MM-DD) of last date of data to write. Leave blank if all dates required.</p></dd>
<dt>file_name</dt>
<dd><p>Character string naming the output file. If none provided, a default file name (with .xlsx) is provided (see 
"Successfully created" message when using function for file name).</p></dd>
<dt>fill_missing</dt>
<dd><p>Logical value indicating whether to fill dates with missing flow data with NA. Default <code>FALSE</code>.</p></dd>
<dt>digits</dt>
<dd><p>Integer indicating the number of decimal places or significant digits used to round flow values. Use follows 
that of base::round() digits argument.</p></dd>
</dl></div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="kw">if</span> <span class="op">(</span><span class="cn">FALSE</span><span class="op">)</span> <span class="op">{</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Working examples:</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Write data from a data frame</span></span>
<span class="r-in"><span class="va">flow_data</span> <span class="op">&lt;-</span> <span class="fu">tidyhydat</span><span class="fu">::</span><span class="fu"><a href="https://docs.ropensci.org/tidyhydat/reference/hy_daily_flows.html" class="external-link">hy_daily_flows</a></span><span class="op">(</span>station_number <span class="op">=</span> <span class="st">"08NM116"</span><span class="op">)</span></span>
<span class="r-in"><span class="fu">write_flow_data</span><span class="op">(</span>data <span class="op">=</span> <span class="va">flow_data</span>, </span>
<span class="r-in">                file_name <span class="op">=</span> <span class="st">"Mission_Creek_daily_flows.xlsx"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Write data directly from HYDAT</span></span>
<span class="r-in"><span class="fu">write_flow_data</span><span class="op">(</span>station_number <span class="op">=</span> <span class="st">"08NM116"</span>, </span>
<span class="r-in">                file_name <span class="op">=</span> <span class="st">"Mission_Creek_daily_flows.xlsx"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="co"># Write data directly from HYDAT and fill missing dates with NA</span></span>
<span class="r-in"><span class="fu">write_flow_data</span><span class="op">(</span>station_number <span class="op">=</span> <span class="st">"08NM116"</span>, </span>
<span class="r-in">                file_name <span class="op">=</span> <span class="st">"Mission_Creek_daily_flows.xlsx"</span>,</span>
<span class="r-in">                fill_missing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="op">}</span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Jon Goetz, Carl James Schwarz.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.0.</p>
</div>

      </footer></div>

  


  

  </body></html>

